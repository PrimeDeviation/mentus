<!DOCTYPE html>
<html>
<head>
  <title>Test Tabs</title>
  <link rel="stylesheet" type="text/css" href="styles/main.css">
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById('chatbar-content').innerHTML = '<object type="text/html" data="components/chatbar/chatbar.html" width="100%" height="100%"></object>';
      document.getElementById('graph').innerHTML = '<object type="text/html" data="components/graphview/graphview.html" width="100%" height="100%"></object>';
      document.getElementById('docs').innerHTML = '<object type="text/html" data="components/documents/documents.html" width="100%" height="100%"></object>';
      document.getElementById('editor').innerHTML = '<object type="text/html" data="components/editor/editor.html" width="100%" height="100%"></object>';
      document.getElementById('settings').innerHTML = '<object type="text/html" data="components/settings/settings.html" width="100%" height="100%"></object>';

      const tabButtons = document.querySelectorAll('.tab-button');
      tabButtons.forEach(button => {
        button.addEventListener('click', (event) => {
          const tabName = event.target.getAttribute('data-tab');
          showTab(tabName);
        });
      });
      showTab('settings');

      function showTab(tabName) {
        const tabs = document.getElementsByClassName('tab-content');
        for (let i = 0; i < tabs.length; i++) {
          tabs[i].classList.remove('active');
        }
        document.getElementById(tabName).classList.add('active');

        // Update the active class on the tab buttons
        tabButtons.forEach(button => {
          if (button.getAttribute('data-tab') === tabName) {
            button.classList.add('active');
          } else {
            button.classList.remove('active');
          }
        });
      }

      // Test switching tabs
      tabButtons.forEach(button => {
        button.click();
        const tabName = button.getAttribute('data-tab');
        const tabContent = document.getElementById(tabName);
        if (tabContent.classList.contains('active')) {
          console.log(`Test passed: ${tabName} tab is displayed correctly.`);
        } else {
          console.log(`Test failed: ${tabName} tab is not displayed correctly.`);
        }
      });
    });
  </script>
</head>
<body>
  <div class="container">
    <div id="chatbar" class="chatbar">
      <div id="chatbar-content">
        <div id="chat-messages" class="chat-messages"></div>
        <div class="chat-input-container">
          <input type="text" id="chat-input" placeholder="Type a message...">
          <button id="send-button">Send</button>
        </div>
      </div>
    </div>
    <div id="main-content" class="main-content">
      <div class="tabs">
        <button class="tab-button active" data-tab="graph">Graph</button>
        <button class="tab-button" data-tab="docs">Docs</button>
        <button class="tab-button" data-tab="editor">Editor</button>
        <button class="tab-button" data-tab="settings">Settings</button>
      </div>
      <div id="tab-content">
        <div id="graph" class="tab-content active">Graph Content</div>
        <div id="docs" class="tab-content">Docs Content</div>
        <div id="editor" class="tab-content">Editor Content</div>
        <div id="settings" class="tab-content">Settings Content</div>
      </div>
    </div>
  </div>
</body>
</html>
